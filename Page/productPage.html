<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/f8178aea98.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="/style.css" />
    <title>Product Page</title>
  </head>
  <body>
    <header>
      <nav>
        <div class="nav">
          <div class="nav-logo">
            <a href="/index.html"><h1>E-Commerce</h1></a>
          </div>
          <div class="nav-list-mid">
            <ul>
              <li><a href="/index.html">Home</a></li>
              <li><a href="productPage.html">Menu</a></li>
              <li><a href="/index.html">Contact Us</a></li>
            </ul>
          </div>
          <div class="nav-list-right">
            <ul>
              <li>
                <a href="#" id="openAddtoCart"
                  ><i class="fa-solid fa-cart-shopping"></i
                ></a>
              </li>
              <li>
                <a href=""><i class="fa-solid fa-user"></i></a>
              </li>
            </ul>
          </div>
          <div class="MenuBarOpen">
            <i class="fa-solid fa-bars" id="OpenBtn"></i>
          </div>
          <div class="MobileLift">
            <a href="#" id="MobileopenAddtoCart"
              ><i class="fa-solid fa-cart-shopping"></i
            ></a>
          </div>
        </div>
      </nav>
      <div class="AddtoCart" id="AddtoCart">
        <div class="AddtoCartHead">
          <h1>Shopping Cart</h1>
          <div id="OpenCloesAddtocart">
            <i class="fa-solid fa-xmark"></i>
          </div>
        </div>
        <div class="addtocartlistpra">
        </div>
        <div id="AddtoCartList"></div>
        <button>Proceed to Buy <span id="numOfProduct"></span></button>
      </div>
      <div class="MobileNav-list" id="Mobilebar">
        <ul>
          <li>
            <a href=""><i class="fa-solid fa-xmark"></i></a>
          </li>
          <li><a href="/index.html" onclick="OpenCloes()">Home</a></li>
          <li><a href="productPage.html" onclick="OpenCloes()">Menu</a></li>
          <li><a href="/index.html" onclick="OpenCloes()">Contact Us</a></li>
          <li>
            <a href="" onclick="OpenCloes()"
              ><i class="fa-solid fa-cart-shopping"></i
            ></a>
          </li>
          <li>
            <a href="" onclick="OpenCloes()"
              ><i class="fa-solid fa-user"></i
            ></a>
          </li>
        </ul>
      </div>
    </header>
    <section class="section2">
      <div class="filter">
        <div class="search-info">
          <input type="search" placeholder="Search..." id="search-input" />
          <button id="Search">Search</button>
        </div>
        <div class="categoryBtn">
          <button class="btn-value" onclick="filterProduct('All')">All</button>
          <button class="btn-value" onclick="filterProduct('Books')">
            Books
          </button>
          <button class="btn-value" onclick="filterProduct('MensFashion')">
            Men's Fashion
          </button>
          <button class="btn-value" onclick="filterProduct('Mobilesandlaptop')">
            Mobiles & laptop
          </button>
          <button
            class="btn-value"
            onclick="filterProduct('TVandHomeEntertainment')"
          >
            TV & Home Entertainment
          </button>
        </div>
      </div>
      <div class="product-list" id="product-list"></div>
    </section>
    <footer>
      <p>&#169; this site by Vinay kumar</p>
    </footer>
  </body>
  <script>
    // narbar js code

    const OpenBtn = document.querySelector("#OpenBtn");
    const Mobilebar = document.querySelector("#Mobilebar");

    function openMenu() {
      Mobilebar.classList.toggle("show_menu");
    }

    OpenBtn.addEventListener("click", () => {
      openMenu();
    });

    // add to cart js code
    const AddtoCart = document.getElementById("AddtoCart");
    const openAddtoCart = document.getElementById("openAddtoCart");
    const OpenCloesAddtocart = document.getElementById("OpenCloesAddtocart");
    const MobileopenAddtoCart = document.getElementById("MobileopenAddtoCart");

    MobileopenAddtoCart.addEventListener("click", () => {
      AddtoCart.classList.add("show_Cart");
    });

    openAddtoCart.addEventListener("click", () => {
      AddtoCart.classList.add("show_Cart");
    });
    OpenCloesAddtocart.addEventListener("click", () => {
      AddtoCart.classList.remove("show_Cart");
    });

    let Product = {
      data: [
        // product category mobiles and laptop
        {
          ProductName: "HP Laptop",
          ProductBrand: "HP",
          ProductCategory: "Mobilesandlaptop",
          ProductPrice: "39,990",
          ProductImage: "/file/Mobiles & Laptops/product-4.1.jpg",
          ProductId: 1,
        },
        {
          ProductName: "Lenovo V15",
          ProductBrand: "Lenovo",
          ProductCategory: "Mobilesandlaptop",
          ProductPrice: "23,490",
          ProductImage: "/file/Mobiles & Laptops/product-5.1.jpg",
          ProductId: 2,
        },
        {
          ProductName: "Lenovo IdeaPad Gaming 3",
          ProductBrand: "Lenovo",
          ProductCategory: "Mobilesandlaptop",
          ProductPrice: "60,990",
          ProductImage: "/file/Mobiles & Laptops/product-1.1.jpg",
          ProductId: 3,
        },
        {
          ProductName: "Apple iPhone 13",
          ProductBrand: "Apple",
          ProductCategory: "Mobilesandlaptop",
          ProductPrice: "52,999",
          ProductImage: "/file/Mobiles & Laptops/product-3.1.jpg",
          ProductId: 4,
        },
        {
          ProductName: "OnePlus Nord CE 3",
          ProductBrand: "OnePlus",
          ProductCategory: "Mobilesandlaptop",
          ProductPrice: "19,999",
          ProductImage: "/file/Mobiles & Laptops/product-2.1.jpg",
          ProductId: 5,
        },
        // product category TV & Home Entertainment
        {
          ProductName: "Samsung 4K Ultra HD TV",
          ProductBrand: "Samsung",
          ProductCategory: "TVandHomeEntertainment",
          ProductPrice: "31,490",
          ProductImage: "/file/TV & Home Entertainment/product-1.1.jpg",
          ProductId: 6,
        },
        {
          ProductName: "Sony Bravia",
          ProductBrand: "Sony",
          ProductCategory: "TVandHomeEntertainment",
          ProductPrice: "72,990",
          ProductImage: "/file/TV & Home Entertainment/product-2.1.jpg",
          ProductId: 7,
        },
        {
          ProductName: "Echo Dot",
          ProductBrand: "Amazon",
          ProductCategory: "TVandHomeEntertainment",
          ProductPrice: "5,499",
          ProductImage: "/file/TV & Home Entertainment/product-3.1.jpg",
          ProductId: 8,
        },
        {
          ProductName: "Mi 2K TV Stick",
          ProductBrand: "MI",
          ProductCategory: "TVandHomeEntertainment",
          ProductPrice: "3,299",
          ProductImage: "/file/TV & Home Entertainment/product-4.1.jpg",
          ProductId: 9,
        },
        {
          ProductName: "EGate K9 Pro-Max Projector",
          ProductBrand: "E GATE",
          ProductCategory: "TVandHomeEntertainment",
          ProductPrice: "15,842",
          ProductImage: "/file/TV & Home Entertainment/product-5.1.jpg",
          ProductId: 10,
        },
        // Product category Men's Fashion
        {
          ProductName: "Polo Shirt",
          ProductBrand: "Arrow",
          ProductCategory: "MensFashion",
          ProductPrice: "934",
          ProductImage: "/file/MensFashion/product-1-1.jpg",
          ProductId: 11,
        },
        {
          ProductName: "Men's Kurtas",
          ProductBrand: "",
          ProductCategory: "MensFashion",
          ProductPrice: "Jompers",
          ProductImage: "/file/MensFashion/product-2.1.jpg",
          ProductId: 12,
        },
        {
          ProductName: "Men Sweatshirt",
          ProductBrand: "Van Heusen",
          ProductCategory: "MensFashion",
          ProductPrice: "1,049",
          ProductImage: "/file/MensFashion/product-3.1.jpg",
          ProductId: 13,
        },
        {
          ProductName: "Fastrack Limitless X",
          ProductBrand: "Fastrack",
          ProductCategory: "MensFashion",
          ProductPrice: "1,499",
          ProductImage: "/file/MensFashion/product-4.1.jpg",
          ProductId: 14,
        },
        {
          ProductName: "Casual Sneaker Shoes",
          ProductBrand: "Red Tape",
          ProductCategory: "MensFashion",
          ProductPrice: "1,679",
          ProductImage: "/file/MensFashion/product-5.1.jpg",
          ProductId: 15,
        },
        // product category Books
        {
          ProductName: "Rich Dad Poor Dad",
          ProductBrand: "Robert T. Kiyosaki (Author)",
          ProductCategory: "Books",
          ProductPrice: "200",
          ProductImage: "/file/Books/product-1.1.jpg",
          ProductId: 16,
        },
        {
          ProductName: "THE 48 LAWS OF POWER",
          ProductBrand: "Robert Greene (Author)",
          ProductCategory: "Books",
          ProductPrice: "500",
          ProductImage: "/file/Books/product-2.1.jpg",
          ProductId: 17,
        },
        {
          ProductName: "The Psychology Of Money",
          ProductBrand: "Morgan Housel (Author)",
          ProductCategory: "Books",
          ProductPrice: "400",
          ProductImage: "/file/Books/product-3.1.jpg",
          ProductId: 18,
        },
        {
          ProductName: "Atomic Habits",
          ProductBrand: "James Clear (Author)",
          ProductCategory: "Books",
          ProductPrice: "600",
          ProductImage: "/file/Books/product-4.1.jpg",
          ProductId: 19,
        },
        {
          ProductName: "How To Finish Everything You Start",
          ProductBrand: "Jan Yager (Author)",
          ProductCategory: "Books",
          ProductPrice: "250",
          ProductImage: "/file/Books/product-5.1.jpg",
          ProductId: 20,
        },
      ],
    };

    // console.log(Product.data);

    for (const i of Product.data) {
      let cart = document.createElement("div");
      cart.id = i.ProductId;
      cart.classList.add("product-items", i.ProductCategory, "hide");

      let image = document.createElement("img");
      image.classList.add("product-img");
      image.src = i.ProductImage;

      cart.appendChild(image);

      let BrandSpan = document.createElement("span");
      BrandSpan.classList.add("product-categ");
      BrandSpan.innerHTML = i.ProductBrand;

      cart.appendChild(BrandSpan);

      let prodName = document.createElement("p");
      prodName.classList.add("product-name");
      prodName.innerHTML = i.ProductName;

      cart.appendChild(prodName);

      let starsDiv = document.createElement("div");
      starsDiv.classList.add("stars");

      starsDiv.innerHTML = `
        <i class="fa-solid fa-star"></i>
        <i class="fa-solid fa-star"></i>
        <i class="fa-solid fa-star"></i>
        <i class="fa-solid fa-star"></i>
        <i class="fa-regular fa-star"></i>
        `;

      cart.appendChild(starsDiv);

      let priceElem = document.createElement("p");
      priceElem.classList.add("product-price");
      priceElem.innerHTML = `â‚¹ ${i.ProductPrice}`;

      cart.appendChild(priceElem);

      let AddtoCart = document.createElement("button");

      AddtoCart.classList.add("ProductView");
      AddtoCart.innerHTML = `Add to Cart`;

      cart.appendChild(AddtoCart);

      let ProductList = document.getElementById("product-list");
      ProductList.appendChild(cart);
      // console.log(ProductList);
    }

    function filterProduct(value) {
      let buttons = document.querySelectorAll(".btn-value");
      buttons.forEach((button) => {
        if (value.toUpperCase() === button.innerHTML.toUpperCase()) {
          button.classList.add("active");
        } else {
          button.classList.remove("active");
        }
      });

      let element = document.querySelectorAll(".product-items");
      element.forEach((element) => {
        if (value.toUpperCase() === "ALL") {
          element.classList.remove("hide");
        } else {
          if (element.classList.contains(value)) {
            element.classList.remove("hide");
          } else {
            element.classList.add("hide");
          }
        }
      });
    }

    document.getElementById("Search").addEventListener("click", () => {
      let searchInput = document
        .getElementById("search-input")
        .value.toUpperCase();
      let carts = document.querySelectorAll("#product-list .product-items");

      let productsFound = false;

      carts.forEach((cart) => {
        let productName = cart
          .querySelector(".product-name")
          .innerHTML.toUpperCase();

        if (productName.includes(searchInput)) {
          cart.classList.remove("hide");
          productsFound = true;
        } else {
          cart.classList.add("hide");
        }
      });

      if (productsFound == false) {
        noProductFound = document.createElement("h2");
        noProductFound.id = "noProductFound";
        noProductFound.classList.add("errorPage");
        noProductFound.innerHTML = `No matching products found`;
        document.getElementById("product-list").appendChild(noProductFound);
      } else {
        noProductFound.remove();
      }
    });

    window.onload = () => {
      filterProduct("All");
    };

    // add to cart js code
    const AddtoCartBtn = document.querySelectorAll(".ProductView");

    AddtoCartBtn.forEach((button) => {
      button.addEventListener("click", (event) => {
        const buttonIndex = Array.from(AddtoCartBtn).indexOf(
          event.currentTarget
        );

        const productId = Product.data[buttonIndex].ProductId;
        let cart = document.createElement("div");
        cart.classList.add("AddtoCartList");

        let image = document.createElement("img");
        image.src = Product.data[buttonIndex].ProductImage;

        cart.appendChild(image);

        let ProdName = document.createElement("p");
        ProdName.innerHTML = Product.data[buttonIndex].ProductName;

        cart.appendChild(ProdName);

        let ProductPrice = document.createElement("p");
        ProductPrice.innerHTML = Product.data[buttonIndex].ProductPrice;

        cart.appendChild(ProductPrice);

        let productTreas = document.createElement("i");
        productTreas.innerHTML = ` <i class="fa-solid fa-trash"></i>`;

        cart.appendChild(productTreas);

        console.log(cart);

        document.getElementById("AddtoCartList").appendChild(cart);
      });
    });
  </script>
</html>
